import { defaultAbiCoder } from '@ethersproject/abi';
import { getAddress } from '@ethersproject/address';
import { concat, hexDataSlice, keccak256, solidityKeccak256, zeroPad, } from 'ethers/lib/utils';
export const POOL_INIT_CODE_HASH = '0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed';
export const CONSTRUCTOR_INPUT_HASH = '0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';
export const PREFIX = '0x2020dba91b30cc0006188af794c2fb30dd8520db7e2c088b7fc7c103c00ca494';
export function computeZkPoolAddress({ factoryAddress, tokenA, tokenB, fee, initCodeHashManualOverride, }) {
    const salt = solidityKeccak256(['bytes'], [
        defaultAbiCoder.encode(['address', 'address', 'uint24'], [tokenA.address, tokenB.address, fee]),
    ]);
    const pool = getAddress(hexDataSlice(keccak256(concat([
        PREFIX,
        zeroPad(factoryAddress, 32),
        salt,
        initCodeHashManualOverride !== null && initCodeHashManualOverride !== void 0 ? initCodeHashManualOverride : POOL_INIT_CODE_HASH,
        CONSTRUCTOR_INPUT_HASH,
    ])), 12));
    return pool;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiemtzeW5jQ29tcHV0ZVBvb2xBZGRyZXNzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3V0aWwvemtzeW5jQ29tcHV0ZVBvb2xBZGRyZXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNyRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFHcEQsT0FBTyxFQUNMLE1BQU0sRUFDTixZQUFZLEVBQ1osU0FBUyxFQUNULGlCQUFpQixFQUNqQixPQUFPLEdBQ1IsTUFBTSxrQkFBa0IsQ0FBQztBQUUxQixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FDOUIsb0VBQW9FLENBQUM7QUFDdkUsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQ2pDLG9FQUFvRSxDQUFDO0FBQ3ZFLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FDakIsb0VBQW9FLENBQUM7QUFFdkUsTUFBTSxVQUFVLG9CQUFvQixDQUFDLEVBQ25DLGNBQWMsRUFDZCxNQUFNLEVBQ04sTUFBTSxFQUNOLEdBQUcsRUFDSCwwQkFBMEIsR0FPM0I7SUFDQyxNQUFNLElBQUksR0FBRyxpQkFBaUIsQ0FDNUIsQ0FBQyxPQUFPLENBQUMsRUFDVDtRQUNFLGVBQWUsQ0FBQyxNQUFNLENBQ3BCLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsRUFDaEMsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQ3RDO0tBQ0YsQ0FDRixDQUFDO0lBQ0YsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUNyQixZQUFZLENBQ1YsU0FBUyxDQUNQLE1BQU0sQ0FBQztRQUNMLE1BQU07UUFDTixPQUFPLENBQUMsY0FBYyxFQUFFLEVBQUUsQ0FBQztRQUMzQixJQUFJO1FBQ0osMEJBQTBCLGFBQTFCLDBCQUEwQixjQUExQiwwQkFBMEIsR0FBSSxtQkFBbUI7UUFDakQsc0JBQXNCO0tBQ3ZCLENBQUMsQ0FDSCxFQUNELEVBQUUsQ0FDSCxDQUNGLENBQUM7SUFDRixPQUFPLElBQUksQ0FBQztBQUNkLENBQUMifQ==